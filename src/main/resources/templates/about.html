<!DOCTYPE html>
<html lang="en">
    <head th:replace="~{common/head :: headFragment}"></head>
    <body>
        <th:block th:replace="~{layout/header :: headerFragment}"></th:block>
        <div class="about-wrap">
            <div class="about-section about-one">
                <div class="about-section-question">
                    당신의 기억에 남는 선물은
                    <br/>
                    언제였나요?
                </div>
            </div>
            <div class="about-section about-two">
                <div class="about-section-present">
                    <div>
                        선물
                        <span class="eg">; present</span>
                    </div>
                    <div class="about-section-desc">
                        남에게 어떤 물건 따위를 선사함
                        <br/>
                        또는
                        <br/>
                        그 물건
                    </div>
                </div>
                <div class="about-section-desc2">
                    선물을 고민하는 순간부터<br/>
                    선물을 전달하는 순간까지<br/>
                    <br/>
                    당신의 선물에 특별함을 더하는 것이<br/>
                    민푸팩토리의 가장 중요한 가치입니다.<br/>
                </div>
            </div>
            <div class="about-section about-three">
                <div class="about-section-title">
                    특별한 선물을 위한 민푸팩토리의 노력
                </div>
            </div>
            <div class="about-section about-four">
                <div class="about-four-slide">
                    <div class="four-slide-container">
                        <div class="four-slide-item">
                            <div class="four-slide-photo" style="background-image: url(/asset/image/aboutslideimage1.jpg)"></div>
                            <div class="four-slide-text">
                                <div class="four-slide-title">
                                    세심한 맞춤형 디자인
                                </div>
                                <div class="four-slide-desc">
                                    우리 브랜드는 1:1 맞춤형 디자인을 제공합니다.<br/>
                                    고객이 원하는 테마, 색상, 스타일을 세심하게 고려하여<br/>
                                    선물의 의미를 더욱 특별하게 만들어드립니다. 맞춤형 서비스로<br/>
                                    선물 받는 이의 개성과 취향을 반영한 고유한 패키지를 제공합니다.
                                </div>
                                <div class="four-slide-num">01</div>
                            </div>
                        </div>
                        <div class="four-slide-item">
                            <div class="four-slide-photo" style="background-image: url(/asset/image/aboutslideimage2.jpg)"></div>
                            <div class="four-slide-text">
                                <div class="four-slide-title">
                                    고품질의 재료와 소재
                                </div>
                                <div class="four-slide-desc">
                                    모든 제품은 최고급 재료로 제작됩니다. 품질에 대한<br/>
                                    철저한 기준을 세우고, 환경을 고려한 지속 가능한 소재를 사용하여<br/>
                                    패키지의 내구성과 미적 가치를 동시에 추구합니다.<br/>
                                    고객이 받는 선물이 그 자체로 가치를 느낄 수 있도록 노력합니다.
                                </div>
                                <div class="four-slide-num">02</div>
                            </div>
                        </div>
                        <div class="four-slide-item">
                            <div class="four-slide-photo" style="background-image: url(/asset/image/aboutslideimage3.jpg)"></div>
                            <div class="four-slide-text">
                                <div class="four-slide-title">
                                    함께하는 성장
                                </div>
                                <div class="four-slide-desc">
                                    세심함을 통해 얻어낸 가치를 바탕으로<br/>
                                    지속 가능한 성장을 위해 끊임없이 노력합니다.<br/>
                                    민푸팩토리의 목표는 변화하는 산업과 환경에 맞춰<br/>
                                    당신의 삶의 질을 높이는 것입니다.
                                </div>
                                <div class="four-slide-num">03</div>
                            </div>
                        </div>
                        <div class="four-slide-item">
                            <div class="four-slide-photo" style="background-image: url(/asset/image/aboutslideimage4.jpg)"></div>
                            <div class="four-slide-text">
                                <div class="four-slide-title">
                                    고객 서비스
                                </div>
                                <div class="four-slide-desc">
                                    우리는 좋은 제품을 만드는 것에 만족하지 않겠습니다.<br/>
                                    신속한 피드백과 사후 관리를 통해<br/>
                                    더 높은 만족도를 드리기 위해 노력합니다.
                                </div>
                                <div class="four-slide-num">04</div>
                            </div>
                        </div>
                    </div>
                    <div class="four-slide-pagination">
                        <div class="four-slide-pagination-bullet active"></div>
                        <div class="four-slide-pagination-bullet"></div>
                        <div class="four-slide-pagination-bullet"></div>
                        <div class="four-slide-pagination-bullet"></div>
                    </div>
                </div>
            </div>
            <div class="about-section about-last">
                <div class="about-section-closing">
                    당신의 선물에
                    <br/>
                    <span class="emphasize">" 특별함 "</span> 을 더할 수 있도록
                    <br/>
                    <br/>
                    민푸팩토리가 함께합니다.
                </div>
            </div>
        </div>
        <th:block th:replace="~{layout/footer :: footerFragment}"></th:block>
        <th:block th:replace="~{common/script :: scriptFragment}"></th:block>
        <script>
            //스크롤시 섹션하나씩 슬라이딩 되도록 하는 스크립트
            window.addEventListener("wheel", function(e){
                e.preventDefault();
            },{passive : false});

            var mHtml = $("html");
            var page = 1;
            var isAnimating = false;
            var isSliding = false;
            var currentSlide = 0;

            mHtml.animate({scrollTop : 0},10);

            $(window).on("wheel", function(e) {
                if(isAnimating || isSliding) return;
                isAnimating = true;
                
                if(page === 4) {
                    if(e.originalEvent.deltaY > 0) {
                        if(currentSlide < 3) {
                            slideNext();
                        } else {
                            page++;
                        }
                    } else if (e.originalEvent.deltaY < 0) {
                        if(currentSlide > 0) {
                            slidePrev();
                        } else {
                            page--;
                        }
                    }
                } else {
                    if(e.originalEvent.deltaY > 0) {
                        if(page < 6) {
                            page++;
                        }
                    } else if(e.originalEvent.deltaY < 0) {
                        if(page > 1) {
                            page--;
                        }
                    }
                }
                var posTop =(page-1) * $(window).height();
                mHtml.animate({scrollTop : posTop}, 600, function(){
                    setTimeout(function(){
                        isAnimating = false;
                    }, 500);
                });
            });

            function slideNext() {
                if(currentSlide < 3) {
                    currentSlide++;
                    slideToCurrent();
                }
            }

            function slidePrev() {
                if(currentSlide > 0) {
                    currentSlide--;
                    slideToCurrent();
                }
            }

            function slideToCurrent() {
                isSliding = true;
                var slidePosition = -currentSlide * 100;
                $(".four-slide-container").animate({left : slidePosition + "%"},600, function(){
                    updatePagination();
                    setTimeout(function(){
                        isSliding = false;
                    }, 300);
                });
                console.log(slidePosition);
            }

            function updatePagination() {
                $(".four-slide-pagination-bullet").removeClass("active");
                $(".four-slide-pagination-bullet").eq(currentSlide).addClass("active");
            }
            
        </script>
    </body>
</html>